<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>监听列表的点击事件,并获取点击元素的索引</title>
    <style type="text/css">
        #list-box{
            cursor:pointer;
        }
        #list-box li:hover{
            background-color:#ccc;
        }
    </style>
</head>
<body>
    <ul id="list-box">
        <li><span>item 1</span></li>
        <li><span>item 2</span></li>
        <li>item 3</li>
        <li>item 4</li>
        <li>item 5</li>
        <li>item 6</li>
        <li>item 7</li>
        <li>item 8</li>
        <li>item 9</li>
        <li>item 10</li>
        <li>item 11</li>
        <li>item 12</li>
        <li>item 13</li>
        <li>item 14</li>
        <li>item 15</li>
        <li>item 16</li>
        <li>item 17</li>
        <li>item 18</li>
        <li>item 19</li>
        <li>item 20</li>
        <li>item 20</li>
        <li>item 22</li>
        <li>item 23</li>
    </ul>
    <script type="text/javascript">
        var listBox=document.getElementById('list-box');
        function listClickFun(event){
            var clickObj=event.target?event.target:event.srcElement;
            var parentObj=clickObj.parentNode?clickObj.parentNode:clickObj.parentElement;
            console.log(event);
//            console.log('',parentObj.children);
            for(var i=0;i<parentObj.children.length;i++){
                if(parentObj.children[i]==clickObj){
                    console.log(1+i);
                }
            }
        }
        if(listBox.addEventListener){
            listBox.addEventListener('click',listClickFun,false);
        }
        else if(listBox.attachEvent){
            listBox.attachEvent('onclick',listClickFun);
        }
    </script>
</body>
</html>